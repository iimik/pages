<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8"/>
    <title>配置详情 | 配置管理</title>
    <link href="/favicon.ico" rel="shortcut icon">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
          name='viewport'/>
    <!-- Extra details for Live View on GitHub Pages -->
    <!-- Canonical SEO -->
    <!--  Social tags      -->
    <meta content="creative tim, html dashboard, html css dashboard, web dashboard, bootstrap 4 dashboard, bootstrap 4, css3 dashboard, bootstrap 4 admin, material dashboard bootstrap 4 dashboard, frontend, responsive bootstrap 4 dashboard, material design, material dashboard bootstrap 4 dashboard"
          name="keywords">
    <meta content="Material Dashboard PRO is a Premium Material Bootstrap 4 Admin with a fresh, new design inspired by Google's Material Design."
          name="description">

    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
          rel="stylesheet" type="text/css"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <!-- CSS Files -->
    <link href="/assets/css/material-dashboard.css" rel="stylesheet"/>
    <link href="/assets/css/docs.min.css" rel="stylesheet"/>
    <link href="/assets/css/post.css" rel="stylesheet"/>
    <link href="/assets/css/markdown.css" rel="stylesheet"/>
    <link href="/assets/css/base16.solarized.dark.css" rel="stylesheet"/>
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <!--<link href="/assets/demo/demo.css" rel="stylesheet" />-->


    <!--   Core JS Files   -->
    <script src="/assets/js/core/jquery.min.js"></script>
    <script src="/assets/js/core/popper.min.js"></script>
    <script src="/assets/js/core/bootstrap-material-design.js"></script>
    <script src="/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!-- Plugin for the momentJs  -->
    <script src="/assets/js/plugins/moment.min.js"></script>
    <!--  Plugin for Sweet Alert -->
    <script src="/assets/js/plugins/sweetalert2.js"></script>
    <!-- Forms Validations Plugin -->
    <script src="/assets/js/plugins/jquery.validate.min.js"></script>
    <script src="/assets/js/plugins/jquery.cookie.min.js"></script>
    <!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
    <script src="/assets/js/plugins/jquery.bootstrap-wizard.js"></script>
    <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
    <script src="/assets/js/plugins/bootstrap-selectpicker.js"></script>
    <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
    <script src="/assets/js/plugins/bootstrap-datetimepicker.min.js"></script>
    <!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
    <script src="/assets/js/plugins/jquery.dataTables.min.js"></script>
    <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
    <script src="/assets/js/plugins/bootstrap-tagsinput.js"></script>
    <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
    <script src="/assets/js/plugins/jasny-bootstrap.min.js"></script>
    <!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
    <script src="/assets/js/plugins/fullcalendar.min.js"></script>
    <!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
    <script src="/assets/js/plugins/jquery-jvectormap.js"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="/assets/js/plugins/nouislider.min.js"></script>
    <!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js"></script>
    <!-- Library for adding dinamically elements -->
    <script src="/assets/js/plugins/arrive.min.js"></script>
    <!-- Chartist JS -->
    <script src="/assets/js/plugins/chartist.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="/assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="/assets/js/material-dashboard.js?v=2.1.0" type="text/javascript"></script>
    <!-- Material Dashboard DEMO methods, don't include it in your project! -->
    <script src="/assets/demo/demo.js"></script>
    <script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
    <script src="/assets/js/docs.min.js"></script>
    <script src="/assets/js/markdown.js"></script>
    <script src="/assets/js/toc.js"></script>
</head>

<body data-offset="100" data-spy="scroll" data-target="#toc">
<!-- Extra details for Live View on GitHub Pages -->
<div class="wrapper ">
    <div class="sidebar" data-background-color="black" data-color="green"
     data-image="/assets/img/sidebar-1.jpg" id="sidebar">
    <!--
      Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

      Tip 2: you can also add an image using data-image tag
  -->
    <div class="logo">
        <a class="simple-text logo-mini" href="http://0.0.0.0:4000">
            PP
        </a>
        <a class="simple-text logo-normal" href="http://0.0.0.0:4000">
            Prep Pages
        </a>
    </div>
    <div class="sidebar-wrapper">
        
<div class="user">
    <div class="photo">
        <img :src="sidebar.logo"/>
    </div>
    <div class="user-info">
        <a class="username" data-toggle="collapse" href="#collapseExample">
              <span>
                <span v-html="sidebar.name"></span>
                <b class="caret"></b>
              </span>
        </a>
        <div class="collapse" id="collapseExample">
            <ul class="nav">
                <li class="nav-item" v-for="module in modules">
                    <a :href="module.link" class="nav-link" v-if="module.id != page.module">
                        <span class="sidebar-mini">
                                    <img :src="module.logo"/>
                        </span>
                        <span class="sidebar-normal" v-html="module.name">  </span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>

        
<ul class="nav">
    <li :class="page.menus[0] == menu1.id ? 'active' : ''" class="nav-item " v-for="menu1 in sidebar.menus">
        <a :href="menu1.link" class="nav-link" v-if="menu1.menus == null">
            <i class="material-icons" v-html="menu1.icon"></i>
            <p v-html="menu1.name"></p>
        </a>
        <a :class="page.menus[0] == menu1.id ? '' : 'collapsed'" :href="'#menu1' + menu1.id" class="nav-link"
           data-toggle="collapse" v-if="menu1.menus">
            <i class="material-icons" v-html="menu1.icon"></i>
            <p> {{menu1.name}}
                <b class="caret"></b>
            </p>
        </a>
        <div :class="page.menus[0] == menu1.id ? 'show' : ''" :id="'menu1' + menu1.id" class="collapse"
             v-if="menu1.menus">
            <ul class="nav">
                <li :class="page.menus[0] == menu1.id && page.menus[1] == menu2.id ? 'active' : ''" class="nav-item "
                    v-for="menu2 in menu1.menus">
                    <a :href="menu2.link" class="nav-link" v-if="menu2.menus == null">
                        <span class="sidebar-mini" v-html="menu2.mini"> P </span>
                        <span class="sidebar-normal" v-html="menu2.name"> Pricing </span>
                    </a>
                    <a :href="'#menu2' + menu2.id" aria-expanded="true" class="nav-link" data-toggle="collapse"
                       v-if="menu2.menus">
                        <span class="sidebar-mini" v-html="menu2.mini"> MLT </span>
                        <span class="sidebar-normal"> <span v-html="menu2.name"></span><b class="caret"></b></span>
                    </a>
                    <div :class="page.menus[1] == menu2.id ? 'show' : ''" :id="'menu2' + menu2.id" class="collapse"
                         v-if="menu2.menus">
                        <ul class="nav">
                            <li :class="page.menus[0] == menu1.id && page.menus[1] == menu2.id && page.menus[2] == menu3.id ? 'active' : ''"
                                class="nav-item"
                                v-for="menu3 in menu2.menus">
                                <a :href="menu3.link" class="nav-link">
                                    <span class="sidebar-mini" v-html="menu3.mini"> E </span>
                                    <span class="sidebar-normal" v-html="menu3.name"> Example </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </li>
</ul>


    </div>
</div>
<script>
    var sidebar = new Vue({
        el: '#sidebar',
        data: {
            //filter: $.cookie('sidebar-filter'),
            //color: $.cookie('sidebar-color'),
            //mini: $.cookie('sidebar_mini'),
            page: {
                module: "pricetag",
                menus: ["setting","index"]
            },
            modules: [{"id":"pricetag","link":"/pricetag","logo":"/assets/img/modules/json.png","name":"Final Framework","subtitle":"Final Framework","description":"站在巨人的肩膀上，视野更宽广。"}],
            
            sidebar: {"logo":"/assets/img/modules/redis.jpg","name":"价签","menus":[{"id":"change-orders","icon":"dashboard","name":"变更单管理"},{"id":"wares","icon":"dashboard","name":"商品管理","menus":[{"id":"store-wares","name":"门店商品","mini":"SW"},{"id":"ware-time-line","name":"商品时间轴","mini":"WTL"}]},{"id":"templates","icon":"dashboard","name":"模板管理","menus":[{"id":"index","name":"模板","mini":"TPS"},{"id":"types","name":"模板类型","mini":"TPT","link":"/pricetag/templates/types"},{"id":"layouts","name":"模板布局","mini":"TPL"}]},{"id":"setting","icon":"alternate_email","name":"配置管理","menus":[{"id":"index","link":"/pricetag/setting","name":"配置管理","mini":"SM"},{"id":"data-build","link":"/pricetag/setting/data-build","name":"数据构建","mini":"DB"},{"id":"promo-hit","link":"/pricetag/setting/promo-hit","name":"促销命中","mini":"PH"}]}]}
            
        }
    })
</script>
    <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg  navbar-fixed-top navbar-absolute navbar-transparent navbar-translate fixed-top ">
    <div class="container-fluid">
        <div class="navbar-wrapper">
            <div class="navbar-minimize">
                <button class="btn btn-just-icon btn-white btn-fab btn-round" id="minimizeSidebar">
                    <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>
                    <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>
                </button>
            </div>
            <a class="navbar-brand" href="#pablo">配置详情</a>
        </div>
        <button aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation"
                class="navbar-toggler" data-toggle="collapse" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
        </button>
    </div>
</nav>
        <!-- End Navbar -->
        <div class="content" id="content">
            <div class="container-fluid">
                
<nav aria-label="breadcrumb" role="navigation">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">配置管理</a></li>
        <li class="breadcrumb-item active" aria-current="page">配置详情</li>
    </ol>
</nav>

<div class="col-md-12">
    <form id="TypeValidation" class="form-horizontal" action="" method="">
        <div class="card ">
            <div class="card-header card-header-rose card-header-text">
                <div class="card-text">
                    <h4 class="card-title">配置详情</h4>
                </div>
            </div>
            <div class="card-body ">
                <!--作用域-->
                <div class="row">
                    <label class="col-sm-2 col-form-label">作用域</label>
                    <div class="col-sm-7">
                        <div class="form-group">
                            <div class="form-check form-check-radio form-check-inline"
                                 :class="scope.enable ? '' : 'disabled'" v-for="scope in scopes">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                           v-model="query.scope" :disabled="!scope.enable"
                                           :value="scope.code">{{scope.name}}
                                    <span class="circle"><span class="check"></span></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <!--归属-->
                <div class="row" v-show="query.scope != 1">
                    <label class="col-sm-2 col-form-label">归属</label>
                    <div class="col-sm-3" v-show="query.scope != 1">
                        <div class="form-group">
                            <div class="col-lg-5 col-md-6 col-sm-3">
                                <select class="selectpicker" data-style="btn btn-primary btn-round"
                                        title="Single Select">
                                    <option disabled selected>请选择商家</option>
                                    <option :value="vendor.id" v-for="vendor in vendors">{{vendor.id}}|{{vendor.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3" v-show="query.scope == 4">
                        <div class="form-group">
                            <div class="col-lg-5 col-md-6 col-sm-3">
                                <select class="selectpicker" data-style="btn btn-primary btn-round"
                                        title="Single Select">
                                    <option disabled selected>请选择门店</option>
                                    <option :value="store.id" v-for="store in stores">
                                        {{store.id}}|{{store.code}}|{{store.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!--配置KEY-->
                <div class="row">
                    <label class="col-sm-2 col-form-label">配置KEY</label>
                    <div class="col-sm-3" >
                        <div class="form-group">
                            <div class="col-lg-5 col-md-6 col-sm-3">
                                <select class="selectpicker" data-style="btn btn-primary btn-round"
                                        title="Single Select">
                                    <option selected>全部</option>
                                    <option :value="key.id" v-for="key in keys">{{key.key}}|{{key.desc}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 col-form-label">配置</label>
                    <div class="col-sm-7">
                        <div class="form-group">
                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                    </div>
                </div>


            </div>
            <div class="card-footer text-right">
                <div class="mr-auto"></div>
                <button type="submit" class="btn btn-rose">保存</button>
            </div>
        </div>
    </form>

<script>
    var content = new Vue({
        el: '#content',
        data: {
            scopes: [
                {code: 1, name: '系统', enable: true},
                {code: 2, name: '商家', enable: true},
                {code: 3, name: '门店组', enable: false},
                {code: 4, name: '门店', enable: true}
            ],
            vendors: [
                {id: 1, name: '北京物美'},
                {id: 85, name: '天津物美'},
            ],
            stores: [
                {id: 112, code: '1171', name: '中关村'}
            ],
            keys: [
                {key: 'data-bind', desc: '数据构建'},
                {key: 'others', desc: '其它'},
            ],
            query: {
                scope: 1
            },
            dataRules: [
                {
                    type: 'ware',
                    name: '商品信息',
                    enable: true,
                    defaultValue: true,
                    locked: true
                },
                {
                    type: 'promotion',
                    name: '促销信息',
                    enable: true,
                    defaultValue: true,
                    locked: false
                },
                {
                    type: 'category',
                    name: '类别信息',
                    enable: true,
                    defaultValue: true,
                    locked: false
                }
            ]

        },
    })
</script>


            </div>
        </div>
        <footer class="footer" id="footer">
    <div class="container-fluid">
        <nav class="float-left">
            <ul>
                <li v-for="item in footer.links">
                    <a :href="item.href" v-html="item.name"></a>
                </li>
            </ul>
        </nav>
        <div class="copyright float-right">
            &copy;
            <script>
                document.write(new Date().getFullYear())
            </script>
            , mark with <i class="material-icons">stars</i> by
            <a :href="git.url" target="_blank" v-html="git.domain"></a> for a better framework.
        </div>
    </div>
</footer>
<script>
    var footer = new Vue({
        el: '#footer',
        data: {
            footer: {"links":[{"href":"https://blog.ilikly.com","name":"Blog"}]},
            git: {"url":"https://github.com/likly/final-framework","domain":"Github"}
        }
    })
</script>
    </div>
</div>
<div class="fixed-plugin" id="fixed">
    <div class="dropdown show-dropdown">
        <a data-toggle="dropdown" href="#">
            <i class="fa fa-cog fa-2x"> </i>
        </a>
        <ul class="dropdown-menu">
            <li class="header-title"> Sidebar Filters</li>
            <li class="adjustments-line">
                <a class="switch-trigger active-color" href="javascript:void(0)">
                    <div class="badge-colors ml-auto mr-auto">
                        <span :class="filter == item ? 'active badge-' + item : 'badge-' + item" :data-color="item"
                              @click="changeFilter(item)" class="badge filter" v-for="item in filters"></span>
                    </div>
                </a>
            </li>
            <li class="header-title">Sidebar Background</li>
            <li class="adjustments-line">
                <a class="switch-trigger background-color" href="javascript:void(0)">
                    <div class="ml-auto mr-auto">
                        <span :class="color == item ? 'active badge-' + item : 'badge-' + item"
                              :data-background-color="item"
                              @click="changeColor(item)"
                              class="badge filter" v-for="item in colors"></span>
                    </div>
                </a>
            </li>
            <li class="adjustments-line">
                <a class="switch-trigger" href="javascript:void(0)">
                    <p>Sidebar Mini</p>
                    <label class="ml-auto">
                        <div class="togglebutton switch-sidebar-mini">
                            <label>
                                <input :data-mini="mini" type="checkbox" v-model="mini">
                                <span @click="switchMidiSidebar(!mini)" class="toggle"></span>
                            </label>
                        </div>
                    </label>
                    <div class="clearfix"></div>
                </a>
            </li>
            <li class="adjustments-line">
                <a class="switch-trigger" href="javascript:void(0)">
                    <p>Sidebar Images</p>
                    <label class="switch-mini ml-auto">
                        <div class="togglebutton switch-sidebar-image">
                            <label>
                                <input checked="" type="checkbox">
                                <span class="toggle"></span>
                            </label>
                        </div>
                    </label>
                    <div class="clearfix"></div>
                </a>
            </li>
            <li class="header-title">Images</li>
            <li :class="image.src == item ? 'active' : ''" v-for="item in images">
                <a @click="switchSidebarImage(item)" class="img-holder switch-trigger" href="javascript:void(0)">
                    <img :src="item" alt="">
                </a>
            </li>
        </ul>
    </div>
</div>
<script>
    var fixed = new Vue({
        el: '#fixed',
        data: {
            filter: $.cookie('sidebar-filter'),
            filters: ['purple', 'azure', 'green', 'orange', 'danger', 'rose'],
            color: $.cookie('sidebar-color'),
            colors: ['black', 'white', 'red'],
            image: {
                enable: true,
                src: $.cookie('sidebar-image-url')
            },
            images: [
                '/assets/img/sidebar-1.jpg',
                '/assets/img/sidebar-2.jpg',
                '/assets/img/sidebar-3.jpg',
                '/assets/img/sidebar-4.jpg',
            ],
            mini: $.cookie('sidebar-mini') == 'true',
        },
        mounted: function () {
            let $this = this;

            if (!$this.filter) {
                $this.filter = 'green';
            }

            if (!$this.color) {
                $this.color = 'black';
            }

            if ($this.mini) {
                $('body').addClass('sidebar-mini');
            }
            $this.changeFilter($this.filter);
            $this.changeColor($this.color);
        },
        methods: {
            changeFilter: function (filter) {
                let $this = this;
                $this.filter = filter;
                $.cookie('sidebar-filter', filter, {path: '/'});

                let $sidebar = $('.sidebar');
                let $full_page = $('.full-page');
                let $sidebar_responsive = $('body > .navbar-collapse');

                if ($sidebar.length != 0) {
                    $sidebar.attr('data-color', filter);
                }

                if ($full_page.length != 0) {
                    $full_page.attr('filter-color', filter);
                }

                if ($sidebar_responsive.length != 0) {
                    $sidebar_responsive.attr('data-color', filter);
                }
            },
            changeColor: function (color) {
                let $this = this;
                $this.color = color;
                $.cookie('sidebar-color', color, {path: '/'});

                let $sidebar = $('.sidebar');
                if ($sidebar.length != 0) {
                    $sidebar.attr('data-background-color', color);
                }
            },
            switchMidiSidebar(mini) {
                console.log("set cookie:sidebar-mini:" + mini);
                $.cookie('sidebar_mini', mini, {path: '/'});
                console.log($.cookie('sidebar_mini'));
                if (mini) {
                    $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');
                    setTimeout(function () {
                        $('body').addClass('sidebar-mini');
                    }, 300);
                } else {
                    $('body').removeClass('sidebar-mini');
                    $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();
                }
                // we simulate the window Resize so the charts will get updated in realtime.
                var simulateWindowResize = setInterval(function () {
                    window.dispatchEvent(new Event('resize'));
                }, 180);

                // we stop the simulation of Window Resize after the animations are completed
                setTimeout(function () {
                    clearInterval(simulateWindowResize);
                }, 1000);
            },
            switchSidebarImage: function (image) {
                let $this = this;
                $this.image.src = image;
                $.cookie('sidebar-image-url', image, {path: '/'});
                let $sidebar_img_container = $('.sidebar .sidebar-background');
                let $full_page_background = $('.full-page-background');
                if ($sidebar_img_container.length != 0 && $this.image.enable) {
                    $sidebar_img_container.fadeOut('fast', function () {
                        $sidebar_img_container.css('background-image', 'url("' + image + '")');
                        $sidebar_img_container.fadeIn('fast');
                    });
                }


                if ($full_page_background.length != 0 && $this.image.enable) {
                    $full_page_background.fadeOut('fast', function () {
                        $full_page_background.css('background-image', 'url("' + image + '")');
                        $full_page_background.fadeIn('fast');
                    });
                }

                if ($this.image.enable) {

                    $sidebar_img_container.css('background-image', 'url("' + image + '")');
                    $full_page_background.css('background-image', 'url("' + image + '")');
                }
            }
        }
    })
</script>
<script>
    $(document).ready(function () {

            $().ready(function () {
                    $sidebar = $('.sidebar');

                    $sidebar_img_container = $sidebar.find('.sidebar-background');

                    $full_page = $('.full-page');

                    $sidebar_responsive = $('body > .navbar-collapse');

                    window_width = $(window).width();

                    fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();

                    if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
                        if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
                            $('.fixed-plugin .dropdown').addClass('open');
                        }

                    }

                    $('.fixed-plugin a').click(function (event) {
                        // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
                        if ($(this).hasClass('switch-trigger')) {
                            if (event.stopPropagation) {
                                event.stopPropagation();
                            } else if (window.event) {
                                window.event.cancelBubble = true;
                            }
                        }
                    });
                    // $('.fixed-plugin .background-color .badge').click(function () {
                    //     $(this).siblings().removeClass('active');
                    //     $(this).addClass('active');
                    //
                    //     var new_color = $(this).data('background-color');
                    //
                    //     if ($sidebar.length != 0) {
                    //         $sidebar.attr('data-background-color', new_color);
                    //     }
                    // });

                    $('.switch-sidebar-image input').change(function () {
                        $full_page_background = $('.full-page-background');

                        $input = $(this);

                        if ($input.is(':checked')) {
                            if ($sidebar_img_container.length != 0) {
                                $sidebar_img_container.fadeIn('fast');
                                $sidebar.attr('data-image', '#');
                            }

                            if ($full_page_background.length != 0) {
                                $full_page_background.fadeIn('fast');
                                $full_page.attr('data-image', '#');
                            }

                            background_image = true;
                        } else {
                            if ($sidebar_img_container.length != 0) {
                                $sidebar.removeAttr('data-image');
                                $sidebar_img_container.fadeOut('fast');
                            }

                            if ($full_page_background.length != 0) {
                                $full_page.removeAttr('data-image', '#');
                                $full_page_background.fadeOut('fast');
                            }

                            background_image = false;
                        }
                    });

                }
            );
        }
    );
</script>
</body>

<script>
    $(document).ready(function () {
        $('#toc').toc({
            headers: 'h2,h3,h4,h5,h6',
            classes: {
                list: '',
                item: 'nav-item toc-entry'
            }
        });
    });
</script>

<script>
$(document).ready(function () {
   let domain = "https://github.com/likly/final-framework/blob/master";
   $('a').each(function () {
       let $a = $(this);
       let href = $a.attr('href');
       console.log(href);

       if (href !== undefined && href.indexOf('http') == -1) {
            if(href.indexOf('.md') !== -1){
                // 以 .md 结尾的，替换为 .html
                // 将链接中的 README 替换为 index
                href = href.replace('README','index');
                href = href.substr(0, href.length - 3).concat('.html');
            }

            if (href.indexOf('.java') !== -1 ) {
                href = domain + href;
            }

            if (href.indexOf('.vm') !== -1) {
                href = domain + href;
            }

            if( href.indexOf('\/_') !== -1){
                href = href.replace(/\/_/g,'/');
            }

           console.log(href);
           $a.attr('href',href);
       }

   });

   $('a[href^="http"]').each(function () {
       $(this).attr('target', '_blank');
   });
});
</script>
</html>